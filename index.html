<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hue are amazing!</title>
  
  
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
    }
    
    .container {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    .svg-container {
      width: 100%;
    }
    
    svg {
      border: 1px solid #ccc;
      width: 100%;
      height: auto;
      max-width: 670px;
    }
    
    .controls-container {
      width: 100%;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
    }
    
    th {
      padding: 8px;
      text-align: left;
      border: 1px solid #ddd;
    }
    
    .color-control {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .swatch-info {
      font-size: 11px;
      color: #666;
      font-style: italic;
      max-width: 200px;
      word-wrap: break-word;
    }
    
    input[type="color"] {
      width: 50px;
      height: 30px;
      border: none;
      cursor: pointer;
    }
    
    .gallery-button {
      padding: 5px 10px;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
    }
    
    .gallery-button:hover {
      background-color: #218838;
    }
    
    button {
      margin-top: 10px;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    
    button:hover {
      background-color: #0056b3;
    }
    
    .reset-button {
      background-color: #dc3545;
      margin-left: 10px;
    }
    
    .reset-button:hover {
      background-color: #c82333;
    }
    
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    
    .modal-content {
      background-color: #fefefe;
      margin: 5% auto;
      padding: 20px;
      border-radius: 8px;
      width: 80%;
      max-width: 800px;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    
    .close:hover,
    .close:focus {
      color: black;
    }
    
    .brand-selection {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }
    
    .brand-item {
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 8px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .brand-item:hover {
      border-color: #007bff;
      background-color: #f8f9fa;
    }
    
    .color-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
      gap: 8px;
      margin-top: 20px;
    }
    
    .color-item {
      text-align: center;
      cursor: pointer;
      padding: 6px;
      border: 2px solid transparent;
      border-radius: 6px;
      transition: all 0.3s ease;
    }
    
    .color-item:hover {
      border-color: #007bff;
      background-color: #f8f9fa;
    }
    
    .color-square {
      width: 40px;
      height: 40px;
      margin: 0 auto 6px;
      border: 1px solid #ccc;
      border-radius: 3px;
    }
    
    .color-label {
      font-size: 10px;
      text-align: center;
      word-wrap: break-word;
      line-height: 1.2;
    }
    
    .color-label {
      font-size: 12px;
      text-align: center;
      word-wrap: break-word;
    }
    
    .modal-title {
      margin-top: 0;
      margin-bottom: 20px;
    }
    
    .back-button {
      background-color: #6c757d;
      margin-right: 10px;
    }
    
    .back-button:hover {
      background-color: #545b62;
    }
    
    .search-container {
      margin-bottom: 20px;
    }
    
    .search-input {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 2px solid #ddd;
      border-radius: 4px;
      box-sizing: border-box;
    }
    
    .search-input:focus {
      outline: none;
      border-color: #007bff;
    }
    
    .no-results {
      text-align: center;
      color: #666;
      font-style: italic;
      margin-top: 20px;
      padding: 20px;
    }
    
    /* Desktop Layout - ab 768px */
    @media (min-width: 768px) {
      .container {
        flex-direction: row;
        align-items: flex-start;
      }
      
      .svg-container {
        width: 50%;
      }
      
      .controls-container {
        width: 50%;
        padding-left: 20px;
      }
    }
  </style>
<script>
  let jsondata = {};
  
  // JSON-Daten aus swatches.json laden
  async function loadSwatchesData() {
    try {
      const response = await fetch('./swatches.json');
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      jsondata = await response.json();
      console.log('Swatches-Daten erfolgreich geladen:', jsondata);
      return jsondata;
    } catch (error) {
      console.error('Fehler beim Laden der swatches.json:', error);
      // Fallback für Demo-Zwecke
      jsondata = {
        demo: {
          brand: "Demo Brand (Fallback)",
          label: "Keine swatches.json gefunden",
          swatches: [
            { hex: "#ff0000", label: "Rot" },
            { hex: "#00ff00", label: "Grün" },
            { hex: "#0000ff", label: "Blau" }
          ]
        }
      };
      return jsondata;
    }
  }
</script>
</head>
<body>
  <h2>Hue are amazing!</h2>
  
  <div class="container">
    <div class="svg-container">
      <svg id="svgbox" name="svgbox" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 670 670">
            <!-- Hier kommt die svg rein -->
			<rect id="rahmen" x="10" y="10" width="650" height="650" fill="#ffffff" stroke="#000" stroke-width="2"/>
            <rect id="1" x="50" y="50" width="100" height="100" fill="#ffffff"/>
            <rect id="2" x="200" y="50" width="100" height="100" fill="#ffffff"/>
            <rect id="3" x="350" y="50" width="100" height="100" fill="#ffffff"/>
            <rect id="4" x="500" y="50" width="100" height="100" fill="#ffffff"/>
            <rect id="5" x="50" y="200" width="100" height="100" fill="#ffffff"/>
            <rect id="6" x="200" y="200" width="100" height="100" fill="#ffffff"/>
            <rect id="7" x="350" y="200" width="100" height="100" fill="#ffffff"/>
            <rect id="8" x="500" y="200" width="100" height="100" fill="#ffffff"/>
            <rect id="9" x="50" y="350" width="100" height="100" fill="#ffffff"/>
            <rect id="10" x="200" y="350" width="100" height="100" fill="#ffffff"/>
      </svg>
    </div>
    
    <div class="controls-container">
      <table>
        <tr>
          <th><label for="colorPickerrahmen">Rahmenfarbe:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPickerrahmen" name="colorPickerrahmen" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPickerrahmen')">Stoffkatalog</button>
              <span id="swatchInfo-colorPickerrahmen" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker1">Farbe 1:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker1" name="colorPicker1" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker1')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker1" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker2">Farbe 2:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker2" name="colorPicker2" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker2')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker2" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker3">Farbe 3:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker3" name="colorPicker3" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker3')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker3" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker4">Farbe 4:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker4" name="colorPicker4" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker4')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker4" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker5">Farbe 5:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker5" name="colorPicker5" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker5')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker5" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker6">Farbe 6:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker6" name="colorPicker6" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker6')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker6" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker7">Farbe 7:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker7" name="colorPicker7" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker7')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker7" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker8">Farbe 8:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker8" name="colorPicker8" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker8')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker8" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker9">Farbe 9:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker9" name="colorPicker9" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker9')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker9" class="swatch-info"></span>
            </div>
          </th>
        </tr>
        <tr>
          <th><label for="colorPicker10">Farbe 10:</label></th>
          <th>
            <div class="color-control">
              <input type="color" id="colorPicker10" name="colorPicker10" value="#ffffff">
              <button class="gallery-button" onclick="openGallery('colorPicker10')">Stoffkatalog</button>
              <span id="swatchInfo-colorPicker10" class="swatch-info"></span>
            </div>
          </th>
        </tr>
      </table>
      <button class="reset-button" onclick="resetAllColors()">Alle Farben zurücksetzen</button>
    </div>
  </div>

  <!-- Modal für Farbgalerie -->
  <div id="colorModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <div id="modalContent"></div>
    </div>
  </div>

  <script>
    let currentPickerId = null;
    let currentBrand = null;
    
    // LocalStorage für Farben und Swatches
    let savedColors = {};
    let selectedSwatches = {};
    
    function saveColorToStorage(pickerId, color) {
      try {
        let storedColors = JSON.parse(localStorage.getItem('svgColors') || '{}');
        storedColors[pickerId] = color;
        localStorage.setItem('svgColors', JSON.stringify(storedColors));
        savedColors[pickerId] = color;
        console.log('Farbe dauerhaft gespeichert:', pickerId, color);
        return true;
      } catch (error) {
        console.error('Fehler beim Speichern der Farbe:', error);
        return false;
      }
    }
    
    function saveSwatchInfo(pickerId, swatchLabel) {
      try {
        let storedSwatches = JSON.parse(localStorage.getItem('svgSwatches') || '{}');
        storedSwatches[pickerId] = swatchLabel;
        localStorage.setItem('svgSwatches', JSON.stringify(storedSwatches));
        selectedSwatches[pickerId] = swatchLabel;
        updateSwatchDisplay(pickerId);
        console.log('Swatch-Info dauerhaft gespeichert:', pickerId, swatchLabel);
      } catch (error) {
        console.error('Fehler beim Speichern der Swatch-Info:', error);
      }
    }
    
    function loadColorsFromStorage() {
      try {
        const storedColors = localStorage.getItem('svgColors');
        console.log('Raw localStorage svgColors:', storedColors);
        if (storedColors) {
          const parsed = JSON.parse(storedColors);
          savedColors = parsed; // Lokale Variable aktualisieren
          console.log('Farben aus localStorage geladen:', parsed);
          return parsed;
        }
        console.log('Keine gespeicherten Farben gefunden');
        savedColors = {};
        return {};
      } catch (error) {
        console.error('Fehler beim Laden der Farben:', error);
        savedColors = {};
        return {};
      }
    }
    
    function loadSwatchesFromStorage() {
      try {
        const storedSwatches = localStorage.getItem('svgSwatches');
        console.log('Raw localStorage svgSwatches:', storedSwatches);
        if (storedSwatches) {
          const parsed = JSON.parse(storedSwatches);
          selectedSwatches = parsed; // Lokale Variable aktualisieren
          console.log('Swatches aus localStorage geladen:', parsed);
          return parsed;
        }
        console.log('Keine gespeicherten Swatches gefunden');
        selectedSwatches = {};
        return {};
      } catch (error) {
        console.error('Fehler beim Laden der Swatches:', error);
        selectedSwatches = {};
        return {};
      }
    }
    
    // Reset-Funktion - vollständig implementiert
    function resetAllColors() {
      console.log('Alle Farben werden zurückgesetzt...');
      
      // Liste aller Color Picker IDs
      const pickerIds = [
        'colorPickerrahmen', 'colorPicker1', 'colorPicker2', 'colorPicker3', 
        'colorPicker4', 'colorPicker5', 'colorPicker6', 'colorPicker7', 
        'colorPicker8', 'colorPicker9', 'colorPicker10'
      ];
      
      // Alle Farben auf Weiß setzen
      pickerIds.forEach(pickerId => {
        const picker = document.getElementById(pickerId);
        if (picker) {
          picker.value = '#ffffff';
          saveColorToStorage(pickerId, '#ffffff');
          clearSwatchInfo(pickerId);
        }
      });
      
      // SVG aktualisieren
      färbeSVG();
      console.log('Alle Farben zurückgesetzt');
    }
    
    function updateSwatchDisplay(pickerId) {
      const swatchInfoElement = document.getElementById(`swatchInfo-${pickerId}`);
      if (swatchInfoElement) {
        if (selectedSwatches[pickerId]) {
          swatchInfoElement.textContent = selectedSwatches[pickerId];
        } else {
          swatchInfoElement.textContent = '';
        }
      }
    }
    
    function findSwatchByColor(hexColor) {
      for (const brandKey in jsondata) {
        const brandData = jsondata[brandKey];
        for (const swatch of brandData.swatches) {
          if (swatch.hex.toLowerCase() === hexColor.toLowerCase()) {
            return `${brandData.brand}: ${swatch.label}`;
          }
        }
      }
      return null;
    }
    
    // Farbe speichern - automatisch bei Änderung
    function saveColor(pickerId, color, fromGallery = false) {
      saveColorToStorage(pickerId, color);
      // Wenn Farbe nicht aus Galerie kommt, Swatch-Info löschen
      if (!fromGallery) {
        clearSwatchInfo(pickerId);
      }
      // Automatisch SVG aktualisieren
      färbeSVG();
    }
    
    function clearSwatchInfo(pickerId) {
      try {
        let storedSwatches = JSON.parse(localStorage.getItem('svgSwatches') || '{}');
        delete storedSwatches[pickerId];
        localStorage.setItem('svgSwatches', JSON.stringify(storedSwatches));
        delete selectedSwatches[pickerId];
        updateSwatchDisplay(pickerId);
        console.log('Swatch-Info gelöscht:', pickerId);
      } catch (error) {
        console.error('Fehler beim Löschen der Swatch-Info:', error);
      }
    }
    
    // SVG einfärben
    function färbeSVG() {
      console.log('SVG wird eingefärbt...');
      
      // Mapping zwischen Picker-IDs und SVG-Element-IDs
      const elementMapping = {
        'colorPickerrahmen': 'rahmen',
        'colorPicker1': '1',
        'colorPicker2': '2',
        'colorPicker3': '3',
        'colorPicker4': '4',
        'colorPicker5': '5',
        'colorPicker6': '6',
        'colorPicker7': '7',
        'colorPicker8': '8',
        'colorPicker9': '9',
        'colorPicker10': '10'
      };
      
      // Für jedes Mapping die Farbe setzen
      Object.entries(elementMapping).forEach(([pickerId, elementId]) => {
        const picker = document.getElementById(pickerId);
        const element = document.getElementById(elementId);
        
        if (picker && element) {
          const color = picker.value;
          element.setAttribute("fill", color);
          console.log(`Element ${elementId} gefärbt mit ${color}`);
        }
      });
    }
    
    // Galerie öffnen
    function openGallery(pickerId) {
      currentPickerId = pickerId;
      currentBrand = null;
      showBrandSelection();
      document.getElementById('colorModal').style.display = 'block';
    }
    
    // Modal schließen
    function closeModal() {
      document.getElementById('colorModal').style.display = 'none';
      currentPickerId = null;
      currentBrand = null;
    }
    
    // Herstellerauswahl anzeigen
    function showBrandSelection() {
      const modalContent = document.getElementById('modalContent');
      modalContent.innerHTML = `
        <h2 class="modal-title">Hersteller auswählen</h2>
        <div class="brand-selection" id="brandSelection"></div>
      `;
      
      const brandSelection = document.getElementById('brandSelection');
      
      // Prüfen ob jsondata geladen wurde
      if (!jsondata || Object.keys(jsondata).length === 0) {
        brandSelection.innerHTML = '<p style="text-align: center; color: #666;">Keine Hersteller-Daten verfügbar. Bitte prüfen Sie die swatches.json Datei.</p>';
        return;
      }
      
      // Alle Hersteller aus jsondata anzeigen
      Object.values(jsondata).forEach(brandData => {
        const brandItem = document.createElement('div');
        brandItem.className = 'brand-item';
        brandItem.innerHTML = `
          <h3>${brandData.brand}</h3>
          <p>${brandData.label}</p>
        `;
        brandItem.onclick = () => showColorSelection(brandData);
        brandSelection.appendChild(brandItem);
      });
    }
    
    // Farbauswahl für gewählten Hersteller anzeigen
    function showColorSelection(brandData) {
      currentBrand = brandData;
      const modalContent = document.getElementById('modalContent');
      modalContent.innerHTML = `
        <h2 class="modal-title">${brandData.brand} - Farben auswählen</h2>
        <button class="back-button" onclick="showBrandSelection()">← Zurück</button>
        <div class="search-container">
          <input type="text" id="swatchSearch" class="search-input" placeholder="Farben durchsuchen..." oninput="filterSwatches()">
        </div>
        <div class="color-grid" id="colorGrid"></div>
        <div id="noResults" class="no-results" style="display: none;">Keine Farben gefunden</div>
      `;
      
      // Alle Farben anzeigen
      displaySwatches(brandData.swatches, brandData.brand);
    }
    
    // Swatches anzeigen (gefiltert oder alle)
    function displaySwatches(swatches, brandName) {
      const colorGrid = document.getElementById('colorGrid');
      const noResults = document.getElementById('noResults');
      
      // Grid leeren
      colorGrid.innerHTML = '';
      
      if (swatches.length === 0) {
        noResults.style.display = 'block';
        return;
      }
      
      noResults.style.display = 'none';
      
      swatches.forEach(swatch => {
        const colorItem = document.createElement('div');
        colorItem.className = 'color-item';
        colorItem.innerHTML = `
          <div class="color-square" style="background-color: ${swatch.hex}"></div>
          <div class="color-label">${swatch.label}</div>
        `;
        colorItem.onclick = () => selectColor(swatch.hex, swatch.label, brandName);
        colorGrid.appendChild(colorItem);
      });
    }
    
    // Swatches filtern basierend auf Suchbegriff
    function filterSwatches() {
      if (!currentBrand) return;
      
      const searchTerm = document.getElementById('swatchSearch').value.toLowerCase();
      
      if (searchTerm === '') {
        // Alle Swatches anzeigen
        displaySwatches(currentBrand.swatches, currentBrand.brand);
      } else {
        // Gefilterte Swatches anzeigen
        const filteredSwatches = currentBrand.swatches.filter(swatch => 
          swatch.label.toLowerCase().includes(searchTerm)
        );
        displaySwatches(filteredSwatches, currentBrand.brand);
      }
    }
    
    // Farbe auswählen
    function selectColor(hexColor, swatchLabel, brandName) {
      if (currentPickerId) {
        const picker = document.getElementById(currentPickerId);
        if (picker) {
          picker.value = hexColor;
          saveColor(currentPickerId, hexColor, true); // true = aus Galerie
          // Swatch-Information speichern und anzeigen
          saveSwatchInfo(currentPickerId, `${brandName}: ${swatchLabel}`);
        }
      }
      closeModal();
    }
    
    // Event Listener für Farbänderungen hinzufügen
    function initializeEventListeners() {
      const colorPickers = document.querySelectorAll('input[type="color"]');
      colorPickers.forEach(picker => {
        picker.addEventListener('change', function(e) {
          saveColor(this.id, this.value);
        });
        
        // Auch bei Input-Event (während des Ziehens)
        picker.addEventListener('input', function(e) {
          saveColor(this.id, this.value);
        });
      });
    }
    
    // Modal schließen beim Klick außerhalb
    window.onclick = function(event) {
      const modal = document.getElementById('colorModal');
      if (event.target === modal) {
        closeModal();
      }
    }
    
    // Farben beim Laden der Seite initialisieren
    function initializeColors() {
      console.log('Initialisiere Farben...');
      
      // Event Listener hinzufügen
      initializeEventListeners();
      
      // Gespeicherte Farben und Swatches aus localStorage laden
      const loadedColors = loadColorsFromStorage();
      const loadedSwatches = loadSwatchesFromStorage();
      console.log('Geladene Farben:', loadedColors);
      console.log('Geladene Swatches:', loadedSwatches);
      
      // Funktion zum Wiederherstellen der Werte
      function restoreValues() {
        console.log('Versuche Werte wiederherzustellen...');
        
        // Farben wiederherstellen
        Object.entries(loadedColors).forEach(([pickerId, color]) => {
          const picker = document.getElementById(pickerId);
          if (picker) {
            picker.value = color;
            console.log('✓ Farbe wiederhergestellt:', pickerId, color);
          } else {
            console.warn('✗ Picker nicht gefunden:', pickerId);
          }
        });
        
        // Swatches wiederherstellen
        Object.entries(loadedSwatches).forEach(([pickerId, swatchLabel]) => {
          const swatchElement = document.getElementById(`swatchInfo-${pickerId}`);
          if (swatchElement) {
            swatchElement.textContent = swatchLabel;
            console.log('✓ Swatch wiederhergestellt:', pickerId, swatchLabel);
          } else {
            console.warn('✗ Swatch-Element nicht gefunden:', `swatchInfo-${pickerId}`);
          }
        });
        
        // SVG einfärben
        färbeSVG();
        console.log('Wiederherstellung abgeschlossen');
      }
      
      // Mehrere Versuche, da DOM manchmal noch nicht bereit ist
      setTimeout(restoreValues, 100);
      setTimeout(restoreValues, 300);
      setTimeout(restoreValues, 500);
    }
    
    // Beim Laden der Seite
    window.addEventListener('load', async function() {
      console.log('Seite geladen');
      // Erst JSON-Daten laden, dann Farben initialisieren
      await loadSwatchesData();
      initializeColors();
    });
    
    // Zusätzlich bei DOMContentLoaded für frühere Initialisierung
    document.addEventListener('DOMContentLoaded', async function() {
      console.log('DOM bereit');
      // Erst JSON-Daten laden, dann Farben initialisieren
      await loadSwatchesData();
      initializeColors();
    });
  </script>
 
</body>
</html>
